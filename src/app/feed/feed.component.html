<ion-grid>
    <ion-row>
        <ion-col size-md="8" offset-md="2">
            <app-historias></app-historias>
        </ion-col>
    </ion-row>
</ion-grid>

<ion-grid>
    <ion-row *ngFor="let publicacion of Publicaciones; let id = index">
        <ion-col size-md="8" offset-md="2">
            <ion-card>
                <ion-card-header>
                    <ion-grid>
                        <ion-row>
                            <ion-col size="9">
                                <div class="usuario-card-header">
                                    <ion-avatar>
                                        <ion-img src="https://www.gub.uy/fiscalia-general-nacion/sites/fiscalia-general-nacion/files/catalogo/Sin-Perfil-Hombre.png" alt="" width="10px"></ion-img>
                                    </ion-avatar>
                                </div>
                            </ion-col>
                            <ion-col class="opcion">
                                <ion-button fill="translucent" id="trigger-popup--{{publicacion.id}}" class="trigger">
                                    <ion-icon name="ellipsis-horizontal-outline"></ion-icon>
                                </ion-button>
                                <ion-popover trigger="trigger-popup--{{publicacion.id}}">
                                    <ng-template>
                                        <app-popover></app-popover>
                                    </ng-template>
                                </ion-popover>
                            </ion-col>
                        </ion-row>
                        <ion-row>
                            <ion-label class="label">{{publicacion.usuario}}</ion-label>
                        </ion-row>
                    </ion-grid>
                </ion-card-header>

                <ion-card-content>
                    <img [src]="publicacion.src" alt="" width = 100% [routerLink]="['/postFeed', publicacion.id]">
                    

                    <ion-grid style="padding: 0;">
                        <ion-row>
                            <ion-col size="6">
                                <ion-label style="padding: 0;" id="caption-publicacion">{{publicacion.caption}}</ion-label>
                            </ion-col>
                            <ion-col size="1" id="location-icon" *ngIf="publicacion.ubicacion">
                                <ion-icon name="location-outline"></ion-icon>
                            </ion-col>
                            <ion-col class="ion-align-self-end">
                                <ion-label style="padding: 0;">{{publicacion.ubicacion}}</ion-label>
                            </ion-col>
                        </ion-row>
                    </ion-grid>


                    <div class="opciones">
                        <ion-col size="1">
                            <!-- <ion-icon class="like" [ngClass]="{'liked':liked==true}" name="heart-outline" (click)="like()"></ion-icon> -->
                            <ion-icon *ngIf="!liked" (click)="like()" name="heart-outline"></ion-icon>
                            <ion-icon *ngIf="liked" (click)="like()" style="color: red;" name="heart-outline"></ion-icon>
                        </ion-col>
                        <ion-col size="1">
                            <ion-icon name="chatbubble-outline"></ion-icon>
                        </ion-col>
                        <ion-col size="1">
                            <ion-icon name="paper-plane-outline"></ion-icon>
                        </ion-col>
                        <ion-col size="1" offset="8">
                            <ion-icon name="bookmark-outline"></ion-icon>
                        </ion-col>
                    </div>
                </ion-card-content>

            </ion-card>
        </ion-col>
    </ion-row>
</ion-grid>